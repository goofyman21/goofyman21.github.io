<button class="btn" id="open-embed-1">Open Drive Video 1</button>
<button class="btn" id="open-embed-2">Open Drive Video 2</button>

<script>
  const targets = {
    v1: 'https://drive.google.com/file/d/15UDzRR-O7IC4zCOnifkGfvUno_QnE2A8/preview',
    v2: 'https://drive.google.com/file/d/14PMJdnwZrFM0Ksdb9TMxQkn-KB37Cxnn/preview'
  };

  function openCloakedUI(targetUrl, title = 'Drive Player') {
    const win = window.open('about:blank', '_blank'); // no noopener, no delay
    if (!win) { alert('Popup blocked. Enable popups and try again.'); return; }

    const html = `<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="referrer" content="no-referrer"><title>${title}</title>
<style>
:root{--bg:#0b0b12;--text:#e9e9ee;--muted:#b7b7c7;--card:rgba(255,255,255,.06);
--accent:#7c6cff;--accent2:#27d3a6;--shadow:0 10px 30px rgba(0,0,0,.45);--radius:14px}
*{box-sizing:border-box}html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text)}
.bg{position:fixed;inset:-20% -10% -10% -10%;z-index:-1;filter:blur(60px);opacity:.85;
background:radial-gradient(40% 40% at 20% 20%,rgba(124,108,255,.6),transparent 60%),
           radial-gradient(35% 35% at 80% 30%,rgba(39,211,166,.4),transparent 60%),
           radial-gradient(45% 45% at 50% 80%,rgba(255,98,146,.28),transparent 60%)}
.bar{position:fixed;left:12px;right:12px;top:12px;height:56px;display:flex;align-items:center;gap:10px;
background:var(--card);backdrop-filter:blur(8px);border-radius:12px;padding:8px 10px;box-shadow:var(--shadow);z-index:3}
.brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px}
.logo{width:34px;height:34px;border-radius:10px;display:grid;place-items:center;
background:linear-gradient(135deg,var(--accent),var(--accent2));box-shadow:0 6px 18px rgba(124,108,255,.35)}
.logo svg{width:18px;height:18px;fill:#fff}.spacer{flex:1}
.btn{appearance:none;border:0;cursor:pointer;color:var(--text);font-weight:600;background:rgba(255,255,255,.12);padding:10px 12px;border-radius:10px}
.btn:hover{background:rgba(255,255,255,.2)}.btn.primary{color:#fff;background:linear-gradient(135deg,var(--accent),var(--accent2));box-shadow:0 8px 20px rgba(124,108,255,.35)}
.btn.primary:hover{box-shadow:0 12px 28px rgba(124,108,255,.45)}
.stage{position:fixed;inset:0;display:grid;place-items:center;padding:84px 12px 12px}
.frame-wrap{width:min(1100px,100%);aspect-ratio:16/9;background:#000;border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);position:relative}
iframe{position:absolute;inset:0;width:100%;height:100%;border:0;background:#000}
.hint{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);padding:8px 12px;background:var(--card);backdrop-filter:blur(8px);border-radius:10px;color:var(--muted);font-size:13px}
@media(max-width:640px){.hint{display:none}}
</style></head>
<body>
  <div class="bg"></div>
  <div class="bar" role="toolbar" aria-label="Player controls">
    <div class="brand">
      <div class="logo" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M4 6.5A2.5 2.5 0 0 1 6.5 4H9l1.5 2H17A2.5 2.5 0 0 1 19.5 8.5v1.25l-2 .75V8.5A.5.5 0 0 0 17 8h-6.5l-1.5-2H6.5a.5.5 0 0 0-.5.5V17a.5.5 0 0 0 .5.5H11l2 2H6.5A2.5 2.5 0 0 1 4 17V6.5z"/><path d="M9.5 12.75v-1.5l7.25-3a1 1 0 0 1 1.25.95v6.6a1 1 0 0 1-1.25.95l-7.25-3z"/></svg>
      </div>
      <div>${title}</div>
    </div>
    <div class="spacer"></div>
    <button class="btn" onclick="history.back()">Back</button>
    <button class="btn" onclick="document.documentElement.requestFullscreen?.()">Fullscreen</button>
    <button class="btn primary" onclick="window.close()">Close</button>
  </div>
  <div class="stage" aria-label="Video player">
    <div class="frame-wrap">
      <iframe src="${targetUrl}" allow="autoplay; fullscreen; picture-in-picture; encrypted-media"
              allowfullscreen referrerpolicy="no-referrer"
              sandbox="allow-scripts allow-forms allow-same-origin allow-popups allow-presentation"></iframe>
    </div>
  </div>
  <div class="hint">Tip: Use the Fullscreen button for the best view.</div>
</body></html>`;

    win.document.open();
    win.document.write(html);
    win.document.close();
    try { win.focus(); } catch {}
  }

  // Make sure your buttons call THIS function:
  document.getElementById('open-embed-1').addEventListener('click', () => openCloakedUI(targets.v1, 'Drive Video 1'));
  document.getElementById('open-embed-2').addEventListener('click', () => openCloakedUI(targets.v2, 'Drive Video 2'));
</script>
